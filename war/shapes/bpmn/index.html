<html>
<head>
    <link rel="stylesheet" href="../../styles/manual-styles.css">
    <link rel="stylesheet" href="../../styles/manual-colors.css">
</head>
<body>

<h1>BPMN shapes</h1>
<p>
	This directory contains a set of BPMN 2.0 vector shapes for rendering using mxGraph.
	<strong>Note</strong> this set is currently in beta release. This means that the majority 
	of features are usable, but there may be missing functionality, a higher level of bugs 
	than found in production quality code and some API function and variables names may change prior 
	to the release of the first stable version.
</p>
<h2>Directory contents</h2>
<p>
	There are 2 files. mxBpmnShape.js contains the rendering code for the shapes. mxBpmnEditorHelper.js 
	contains helper functionality to demonstrate integrating the shapes into the GraphEditor example.
	This includes registering the shapes, creating and adding a palette to the sidebar library and 
	adding a right click content menu option for shape configurations.
</p>
<h3>Configuring the shapes</h3>
<p>
	Registering the BPMN shapes within mxGraph can be performed with:
	<pre><code>mxCellRenderer.prototype.defaultShapes['bpmn'] = mxBpmnShape;</code></pre>
</p>
<p>
	These shapes are applied to vertices using the style string <code>shape=bpmn</code>. If you wish the value to change, 
	alter the above string key added to <code>defaultShapes</code>.
	The type of shapes displayed is controlled by the <code>bpmnEvent</code> and <code>bpmnEventType</code> styles.
	Possible values for the programmatic variable names and style string values for both these styles can 
	be found at the top of the <a href="mxBpmnShape.js">mxBpmnShape.js file</a>
</p>
<p>
	For example, the style string for a catching catching message event is:
	<pre><code>shape=bpmn;bpmnEvent=message;bpmnEventType=catching</code></pre>
	When setting and reading these values, either use the defined variables that represent these styles, or
	define your own set to fully control the string values and set the variables in mxBpmnShape to equal 
	your defined variables.
</p>
<p>
	Note that this set does not validate if the combination of inner and outer shapes used is valid for any 
	specific standard, that is up to your application to determine.
</p>

<h3>Integration with the GraphEditor example</h3>
<p>
	To enable easy integration with the GraphEditor example the <code>mxBpmnEditorHelper.js</code> file is supplied. This:
	<ul>
		<li>Registers the <code>bpmn</code> shape type.</li>
		<li>Creates a library of BPMN shapes and inserts them into the GraphEditor sidebar.</li>
		<li>Creates a custom context (right-click) menu option to configure the event type through the UI.</li>
	</ul>
	Note that the overridden <code>addCustomPalette</code> adds some shapes to the example palette that are not part of 
	this shape set. The <code>swinlane</code> group is part of the core mxGraph shape set, for example. Various activity 
	shapes can have inner shapes, we represent these using child cells at particular offsets. These are also demonstrated.
</p>
<p>
	When loading the two JavaScript files in GraphEditor, ensure the helper file is loaded second and both are loaded 
	in the head element prior to the editor UI being generated at the start of the body
</p>
<hr size="1">
&copy; 2012 by JGraph Ltd.
</body>
</html>
